<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>New Zealand Digital Literary Heritage and Preservation Project</title>
  <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
  <style>
    body {
      font-family: "Times New Roman", serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
header {
  background-color: #f2f2f2;
  text-align: center;
  padding: 20px;
  opacity: 0;
  transform: translateY(-50px);
  animation: slideInDown 0.8s ease-out forwards;
  position: relative;
}

header img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
}

header h1, header p {
  position: relative;
  z-index: 2;
  color: white;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
  margin: 10px 0;
}

    @keyframes slideInDown {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }


    nav {
      background-color: #00008B;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    nav li {
      display: inline-block;
      position: relative;
    }

    .dropbtn {
      background-color: #FFD700;
      color: black;
      padding: 14px 16px;
      border: none;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .dropbtn:hover {
      background-color: #AA6C39;
      transform: translateY(-2px);
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 180px;
      z-index: 1;
      top: 100%;
      left: 0;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      border-radius: 0 0 8px 8px;
    }

    .dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      transition: background-color 0.3s ease;
    }

    .dropdown-content a:hover {
      background-color: #f1f1f1;
    }

    .dropdown-content.show {
      display: block;
      animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    main {
      padding: 20px;
    }

    /* Scroll Animation Classes */
    .scroll-section {
      opacity: 0;
      transform: perspective(1000px) rotateX(-15deg) translateY(50px);
      transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      transform-origin: center top;
      margin: 40px 0;
      background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .scroll-section.visible {
      opacity: 1;
      transform: perspective(1000px) rotateX(0deg) translateY(0);
    }

    .scroll-section.folding-up {
      transform: perspective(1000px) rotateX(15deg) translateY(-30px) scale(0.95);
      opacity: 0.7;
    }

    .scroll-section.folding-down {
      transform: perspective(1000px) rotateX(-15deg) translateY(30px) scale(0.95);
      opacity: 0.7;
    }

    /* Enhanced content styling */
    .content-wrapper {
      display: flex;
      gap: 20px;
      align-items: flex-start;
      padding: 30px;
    }

    .flash-container, .iframe-container {
      flex: 1;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      transition: transform 0.3s ease;
    }

    .flash-container:hover, .iframe-container:hover {
      transform: translateY(-5px) scale(1.02);
    }

    .info-box {
      max-width: 400px;
      padding: 25px;
      border: none;
      background: linear-gradient(135deg, #f9f9f9 0%, #ffffff 100%);
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }

    .info-box:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }

    .info-box h3 {
      color: #00008B;
      margin-top: 0;
      font-size: 1.4em;
      border-bottom: 2px solid #FFD700;
      padding-bottom: 10px;
    }

    /* Section backgrounds */
    .birds-section {
      background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
    }

    .conifer-section {
      background: linear-gradient(135deg, #f0f0f0 0%, #e8e8e8 100%);
      padding: 40px 20px;
    }

    /* Smooth scrolling */
    html {
      scroll-behavior: smooth;
    }

    /* Loading animation for embedded content */
    .loading-placeholder {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 400px;
      background: #f8f9fa;
      border-radius: 8px;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #FFD700;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .content-wrapper {
        flex-direction: column;
        padding: 20px;
      }
      
      .info-box {
        max-width: 100%;
      }
    }
  </style>
</head>

<body>

<header>
  <h1>New Zealand Digital Literary Heritage and Preservation Project</h1>
  <p>Marina Cone</p>
  <img src="header-image.jpg" alt="New Zealand Digital Literary Heritage and Preservation Project">
</header>

<nav>
  <ul>
    <!-- Home -->
    <li>
      <form action="index.html">
        <button type="submit" class="dropbtn">Home</button>
      </form>
    </li>

    <!-- About -->
    <li>
      <form action="about.html">
        <button type="submit" class="dropbtn">About</button>
      </form>
    </li>

    <!-- How To -->
    <li>
      <form action="how-to.html">
        <button type="submit" class="dropbtn">How To</button>
      </form>
    </li>

    <!-- Works dropdown -->
    <li class="dropdown">
      <button class="dropbtn" id="worksButton">Works â–¼</button>
      <div class="dropdown-content" id="worksDropdown">
        <a href="birds.html">Birds</a>
        <a href="xian.html">Xian</a>
        <a href="capital.html">Capital</a>
        <a href="anarchy.html">Anarchy</a>
        <a href="dream-mountain.html">Dream Mountain</a>
        <a href="stone-flower-green.html">Stone Flower Green</a>
        <a href="general-motors.html">General Motors</a>
        <a href="bookmark.html">Bookmark</a>
        <a href="dreaming-in-dewey-numbers.html">Dreaming in Dewey Numbers</a>
        <a href="dark.html">Dark</a>
      </div>
    </li>
  </ul>
</nav>

<main>
  <!-- Birds Section -->
  <section class="scroll-section birds-section" data-section="birds">
    <div class="content-wrapper">
      <!-- Flash Game -->
      <div class="flash-container">
        <embed src="birds.swf" width="600" height="400">
      </div>

      <!-- Info Box -->
      <div class="info-box">
        <h3>About the Work</h3>
        <p><strong>Title:</strong> The Street of Birds</p>
        <p><strong>Author:</strong> Brian Flaherty</p>
        <p><strong>Description:</strong>   
           Generously donated by Brian Flaherty to be preserved by the New Zealand Digital Literary Heritage Project.
        </p>
      </div>
    </div>
  </section>

  <!-- General Motors Section -->
  <section class="scroll-section conifer-section" data-section="conifer">
    <div class="content-wrapper">
      <!-- Iframe Embed -->
      <div class="iframe-container">
        <iframe  
          src="https://conifer.rhizome.org/_embed/jmcjedi2/nzepc-works/20221126194946$br:firefox:68/https://www.jackbooks.com/Leigh/online/GM/GM_Book.html" 
          width="1000" 
          height="600" 
          frameborder="0" 
          scrolling="yes"
          style="border-radius: 8px;">
        </iframe>
      </div>

      <!-- Info Box -->
      <div class="info-box">
        <h3>About the Work</h3>
        <p><strong>Title:</strong> General Motors</p>
        <p><strong>Author:</strong> Leigh Davis</p>
        <p><strong>Description:</strong>   
           This digital version of *General Motors* has been preserved through the Conifer web archiving platform. Originally published by JackBooks, the piece is presented here as a contextual artifact in New Zealand's digital literary heritage.
        </p>
      </div>
    </div>
  </section>

  <!-- Additional Sample Section for Demo -->
  <section class="scroll-section" data-section="demo" style="background: linear-gradient(135deg, #fff8e1 0%, #fffbf0 100%);">
    <div class="content-wrapper">
      <div style="flex: 1; padding: 20px;">
        <h2 style="color: #00008B; margin-top: 0;">Digital Preservation</h2>
        <p>Our mission is to preserve New Zealand's digital literary heritage for future generations. Through innovative web archiving and interactive preservation techniques, we maintain access to important cultural works that might otherwise be lost to time.</p>
      </div>
      <div class="info-box">
        <h3>Project Goals</h3>
        <ul style="padding-left: 20px;">
          <li>Preserve digital literature</li>
          <li>Maintain accessibility</li>
          <li>Foster cultural heritage</li>
          <li>Support researchers</li>
        </ul>
      </div>
    </div>
  </section>
</main>

<script>
  // Dropdown functionality
  document.addEventListener('DOMContentLoaded', () => {
    const button = document.getElementById('worksButton');
    const dropdown = document.getElementById('worksDropdown');

    button.addEventListener('click', (e) => {
      e.stopPropagation();
      dropdown.classList.toggle('show');
    });

    document.addEventListener('click', (e) => {
      if (!dropdown.contains(e.target) && !button.contains(e.target)) {
        dropdown.classList.remove('show');
      }
    });

    // Scroll animation functionality
    let lastScrollY = window.scrollY;
    let isScrolling = false;

    const sections = document.querySelectorAll('.scroll-section');
    
    function updateScrollAnimations() {
      const currentScrollY = window.scrollY;
      const scrollDirection = currentScrollY > lastScrollY ? 'down' : 'up';
      
      sections.forEach(section => {
        const rect = section.getBoundingClientRect();
        const isVisible = rect.top < window.innerHeight * 0.8 && rect.bottom > window.innerHeight * 0.2;
        
        // Remove all animation classes first
        section.classList.remove('visible', 'folding-up', 'folding-down');
        
        if (isVisible) {
          section.classList.add('visible');
        } else if (rect.top > window.innerHeight * 0.8) {
          // Section is below viewport
          if (scrollDirection === 'down') {
            section.classList.add('folding-down');
          }
        } else if (rect.bottom < window.innerHeight * 0.2) {
          // Section is above viewport
          if (scrollDirection === 'up') {
            section.classList.add('folding-up');
          }
        }
      });
      
      lastScrollY = currentScrollY;
      isScrolling = false;
    }

    // Throttled scroll event listener
    window.addEventListener('scroll', () => {
      if (!isScrolling) {
        requestAnimationFrame(updateScrollAnimations);
        isScrolling = true;
      }
    });

    // Initial check
    updateScrollAnimations();

    // Add hover effects for interactive elements
    const interactiveElements = document.querySelectorAll('.flash-container, .iframe-container, .info-box');
    
    interactiveElements.forEach(element => {
      element.addEventListener('mouseenter', () => {
        element.style.transform = 'translateY(-5px) scale(1.02)';
      });
      
      element.addEventListener('mouseleave', () => {
        element.style.transform = 'translateY(0) scale(1)';
      });
    });
  });
</script>

</body>
</html>
